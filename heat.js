

    //let w = $(window).width();
    //let h = $(window).height();

    //let bs_md_mode = (w >= 768);
heat(1200, true);


function heat(w, md_mode) {
    if(md_mode) {
        $('#heat1').css('height', w / 2 * .8 + 'px');
        $('#heat2').css('height', w / 2 * .8 + 'px');
    } else {
        $('#heat1').css('height', w + 'px');
        $('#heat2').css('height', w + 'px');
    }

    Plotly.d3.json('https://raw.githubusercontent.com/plotly/datasets/master/custom_heatmap_colorscale.json', function (figure) {
        let data = [
            {
                z: [
                  [0.300714224,0.006559302,0.344128217,0.0,0.00379905,0.039170936,0.296665706,0.005831284,0.003131283],
                  [0.028412088,0.140278169,0.02908897,0.188440252,0.188519683,0.134517339,0.032770668,0.134842408,0.123130423],
                  [0.329613708,0.005915496,0.335799446,0.002857091,0.003917396,0.034822406,0.283942592,0.0,0.003131865],
                  [0.028187168,0.163178831,0.031689329,0.190706874,0.160680921,0.153773623,0.026075627,0.143014251,0.102693376],
                  [0.024429762,0.216745769,0.047333433,0.135012946,0.074924065,0.231952366,0.063434255,0.119590111,0.086577294],
                  [0.035914457, 0.150953647, 0.03638574, 0.170952086, 0.195457281, 0.144300153, 0.02713371, 0.126727909, 0.112175018],
                  [0.282059348,0.013684281,0.348820665,0.019719078,0.006488902,0.055215971,0.255127643,0.009475004, 0.009409107],
                  [0.118234102, 0.116675832, 0.090464522, 0.136992387, 0.144087317, 0.11701872, 0.073768067, 0.113220644, 0.089538409],
                  [0.285623963, 0.013982051, 0.36008852, 0.002132263, 0.005172478, 0.063740185, 0.24086997, 0.02226698, 0.006123589],
                ],
                x:
                    ['Asunción','Bogotá','Buenos Aires','Caracas','Lima','Medellín', 'Montevideo', 'Quito', 'Santiago'],
                y:
                    ["tenés","tienes", "querés", "quieres", "usted", "eres", "sos", "tú","vos"],
                type: 'heatmap',
                colorscale: 'YIOrRd'
            }
        ];
        let layout1 = {
            title: 'Grammar<br>variation by city',
            autosize: true, xaxis: {automargin: true}, yaxis: {automargin: true},
        };
        Plotly.newPlot('heat1', data, layout1);
    });

    Plotly.d3.json('https://raw.githubusercontent.com/plotly/datasets/master/custom_heatmap_colorscale.json', function (figure) {
        let data2 = [
            {
                z: [
                  [0.277016876,0.0,0.45299679,0.011351041,0.01037571,0.0,0.221681993,0.011207194,0.015370396],
                  [0.0,0.178220661,0.034837621,0.447987251,0.063614128,0.172566732,0.016348252,0.039049447,0.047375908],
                  [0.216048187,0.019027934,0.262841863,0.015375896,0.056218927,0.013214271,0.140962681,0.033735652,0.242574588],
                  [0.094262885,0.191909661,0.027193025,0.126667499,0.17669139,0.211824601,0.021981434,0.098576845,0.050892658],
                  [0.357618539,0.009273301,0.293833167,0.014096248,0.029681603,0.0084959,0.243995578,0.012426439,0.030579225],
                  [0.21498602, 0.0, 0.456539368, 0.0, 0.0, 0.0, 0.328474612, 0.0, 0.0],
                  [0.056539132,0.303068581,0.030268538,0.093442128,0.0, 0.193984812, 0.0, 0.059308697,0.263388112,],
                  [0.021808935,0.255918652,0.020023541,0.127954744,0.122314128,0.208668238,0.021242529,0.111208823,0.110860409],
                  [0.18796433,0.055447012,0.173796614,0.040607625,0.07446887,0.031884804,0.162247418,0.10724883,0.166334496],

                ],
                x:
                    ['Asunción','Bogotá','Buenos Aires','Caracas','Lima','Medellín', 'Montevideo', 'Quito', 'Santiago'],

                y:
                    ['boludo', 'vaina', 'onda', 'pues', 'che', 'campera', 'chaqueta', 'carro', 'auto'],
                type: 'heatmap',
                colorscale: 'YIOrRd'
            }
        ];
        let layout2 = {
            title: 'Lexicon<br>variation by city',
            autosize: true,
            xaxis: {automargin: true},
            yaxis: {automargin: true}
        };
        Plotly.newPlot('heat2', data2, layout2);
    });
}
